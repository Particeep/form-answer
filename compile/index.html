<!doctype html>
<html>
<head>
  <title>Form answer</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:200,400,500,7000" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <style>
    body {
      background: #f2f2f2;
      line-height: 20px;
      font-size: 14px;
    }

    .panel {
      max-width: 600px;
      margin: 20px auto;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    :focus {
      outline: 0;
    }
  </style>
</head>
<body>
<script>
  window.formAnswer = {
    form: {
      "id":"122e1647-1e99-49da-95d4-10b84907ad81",
      "created_at":"2020-10-16T08:29:57Z",
      "name":"Invest-Loan",
      "description":"test",
      "tag":"ENTREPRENEUR",
      "last_updated_at":"2021-10-27T14:19:55Z",
      "sections":[
        {
          "id":"3cb9a741-2f23-4ef6-9e41-5165beab7fba",
          "created_at":"2020-10-16T08:29:58Z",
          "form_id":"122e1647-1e99-49da-95d4-10b84907ad81",
          "name":"section 01",
          "index":0,
          "questions":[
            {
              "id":"8af6cef7-9bbf-4634-99f8-7e08dc31ab1b",
              "created_at":"2020-10-16T08:30:10Z",
              "section_id":"3cb9a741-2f23-4ef6-9e41-5165beab7fba",
              "label":"question text",
              "question_type":"TEXT",
              "required":false,
              "index":0,
              "possibilities":[

              ],
              "pattern":".*",
              "answers":[
                "svwcsfsfd"
              ]
            },
            {
              "id":"7f71916b-e786-49d8-89f5-4251af72cc30",
              "created_at":"2021-08-03T12:06:16Z",
              "section_id":"3cb9a741-2f23-4ef6-9e41-5165beab7fba",
              "label":"radio",
              "possibility_id_dep":"",
              "valid_possibility_ids":"acf4903a-23ea-4828-983d-c9a2586a28c9",
              "question_type":"RADIO",
              "required":false,
              "index":1,
              "possibilities":[
                {
                  "id":"acf4903a-23ea-4828-983d-c9a2586a28c9",
                  "created_at":"2021-08-03T12:06:27Z",
                  "question_id":"7f71916b-e786-49d8-89f5-4251af72cc30",
                  "label":"op 1",
                  "index":0,
                  "weight":0
                },
                {
                  "id":"39db45e8-fdd1-467c-a419-f42e5c04c0c2",
                  "created_at":"2021-08-03T12:06:33Z",
                  "question_id":"7f71916b-e786-49d8-89f5-4251af72cc30",
                  "label":"op 2",
                  "index":1,
                  "weight":0
                },
                {
                  "id":"ea02cd18-4383-46ad-9633-b702577b54e4",
                  "created_at":"2021-08-03T15:24:08Z",
                  "question_id":"7f71916b-e786-49d8-89f5-4251af72cc30",
                  "label":"op 3",
                  "index":2,
                  "weight":0
                },
                {
                  "id":"5cccf853-62d9-4554-83e4-6225b397170b",
                  "created_at":"2021-08-03T16:06:17Z",
                  "question_id":"7f71916b-e786-49d8-89f5-4251af72cc30",
                  "label":"op 5",
                  "index":3,
                  "weight":0
                }
              ],
              "pattern":".*",
              "answers":[
                "op 1"
              ]
            },
            {
              "id":"2fb7c5f5-d6bd-4d6a-891c-3b0949f43a6e",
              "created_at":"2021-10-27T14:17:50Z",
              "section_id":"3cb9a741-2f23-4ef6-9e41-5165beab7fba",
              "label":"select",
              "description":"des",
              "question_type":"SELECT",
              "required":false,
              "index":2,
              "possibilities":[
                {
                  "id":"50cae4e5-caf1-4070-be18-6b7b35cb573a",
                  "created_at":"2021-10-27T14:17:54Z",
                  "question_id":"2fb7c5f5-d6bd-4d6a-891c-3b0949f43a6e",
                  "label":"01",
                  "index":0,
                  "weight":1
                },
                {
                  "id":"d0ca89a8-aecb-4d46-bb3a-2798486bc1fd",
                  "created_at":"2021-10-27T14:18:05Z",
                  "question_id":"2fb7c5f5-d6bd-4d6a-891c-3b0949f43a6e",
                  "label":"02",
                  "index":1,
                  "weight":1
                },
                {
                  "id":"649a794c-b941-402f-8db3-a15c8d07d6da",
                  "created_at":"2021-10-27T14:18:08Z",
                  "question_id":"2fb7c5f5-d6bd-4d6a-891c-3b0949f43a6e",
                  "label":"03",
                  "index":2,
                  "weight":1
                }
              ],
              "answers":[

              ]
            },
            {
              "id":"de01b35d-fb20-4359-9be5-74f1c8944088",
              "created_at":"2021-10-27T14:18:28Z",
              "section_id":"3cb9a741-2f23-4ef6-9e41-5165beab7fba",
              "label":"checkbox",
              "description":"desc",
              "question_type":"CHECKBOX",
              "required":false,
              "index":3,
              "possibilities":[
                {
                  "id":"28269c24-516d-4368-8221-64fe50c97406",
                  "created_at":"2021-10-27T14:18:37Z",
                  "question_id":"de01b35d-fb20-4359-9be5-74f1c8944088",
                  "label":"01",
                  "index":0,
                  "weight":0
                },
                {
                  "id":"8177de0a-8155-45c3-84f8-722a724d3fd2",
                  "created_at":"2021-10-27T14:18:48Z",
                  "question_id":"de01b35d-fb20-4359-9be5-74f1c8944088",
                  "label":"02",
                  "index":1,
                  "weight":0
                },
                {
                  "id":"019d091f-835b-4759-856c-01a97cd209f1",
                  "created_at":"2021-10-27T14:18:50Z",
                  "question_id":"de01b35d-fb20-4359-9be5-74f1c8944088",
                  "label":"03",
                  "index":2,
                  "weight":0
                }
              ],
              "answers":[

              ]
            }
          ]
        },
        {
          "id":"270e3cdf-086a-47e1-b273-60e3186ff0f3",
          "created_at":"2021-10-27T14:19:03Z",
          "form_id":"122e1647-1e99-49da-95d4-10b84907ad81",
          "name":"dec",
          "description":"de",
          "index":1,
          "questions":[
            {
              "id":"ac8027ea-1fcb-4b73-b417-3f4c4349419e",
              "created_at":"2021-10-27T14:19:15Z",
              "section_id":"270e3cdf-086a-47e1-b273-60e3186ff0f3",
              "label":"text long",
              "description":"decs",
              "question_type":"LONGTEXT",
              "required":true,
              "index":0,
              "possibilities":[

              ],
              "answers":[

              ]
            },
            {
              "id":"aca9300e-e551-4508-b087-d38728868b2c",
              "created_at":"2021-10-27T14:19:36Z",
              "section_id":"270e3cdf-086a-47e1-b273-60e3186ff0f3",
              "label":"date",
              "description":"decs",
              "question_type":"DATE",
              "required":true,
              "index":1,
              "possibilities":[

              ],
              "answers":[

              ]
            },
            {
              "id":"c0f641d1-4cca-4b2b-b46f-2b12925bc819",
              "created_at":"2021-10-27T14:19:55Z",
              "section_id":"270e3cdf-086a-47e1-b273-60e3186ff0f3",
              "label":"doc",
              "description":"decs",
              "question_type":"DOCUMENT",
              "required":true,
              "index":2,
              "possibilities":[

              ],
              "answers":[

              ]
            }
          ]
        }
      ]
    },
    dateFormat: 'dd/MM/yyyy',
    scrollOffset: 100,
    messages: {
      search: 'Search...',
      buttonNext: 'Next',
      buttonEnd: 'End',
      buttonPrevious: 'Previous',
      upload: 'Choose file',
      invalidFileSize: 'File limit exceed',
      invalidDate: 'Date invalid',
      invalidText: 'Invalid answer',
      invalidPattern: 'Invalid format',
      noFile: 'Aucun fichier téléchargé'
    },
    muiPalette: {
      primary: {
        main: "#f47373"
      },
      secondary: {
        main: "#313135"
      },
    },
    onChange: function (answer) {
      console.log('onChange', answer);
    },
    onSectionEnd: function (sectionAnswers) {
      console.log('onSectionEnd', sectionAnswers);
    },
    onEnd: function (answers, callback) {
      console.log('onEnd', answers);
      setTimeout(callback, 1000);
    },
    onUploadFile: function (file, callback) {
      console.log('onUploadFile', file);
      setTimeout(() => callback({
        id: '4ac6921c-5ed1-43cc-a1cf-76787104e7db',
        name: file.name,
        permalink: 'https://api.particeep.com/swagger'
      }), 1000);
    },
    onRemoveFile: function (id) {
      console.log('onRemoveFile', id);
    },
    firstStepPrevCb: function () {
      console.log("first step prev")
    }
  }
  pc.form.updateForm(form)
</script>
<div class="panel">
  <div id="form-answer-root"></div>
</div>
<script type="text/javascript" src="index.js"></script></body>
</html>
